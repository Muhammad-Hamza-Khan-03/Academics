"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56048],{32673:function(e,t,n){n.d(t,{Z:function(){return d}});var o=n(97056),i=n(48473),r=n(10812),a=n(75688),c=n(31655),s=n(27378),u=function(e,t){var n=l(e,t);return r.f.getItem(n)},l=function(e,t){return e+"-"+t},d=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=(0,o.pX)(),v=u(d,t),g=l(d,t),f=!v||new Date>new Date(v)||!c.Z.get(t),p=(0,s.useState)(e===i.ft&&(!n||f)),m=p[0],b=p[1],w=function(){n&&(r.f.setItem(g,(0,a.KC)().toDateString()),c.Z.set(t,(new Date).toDateString(),{expires:(0,a.KC)()})),b(!1)};return{showUKOptIn:m,dismissUKOptIn:w}}},3445:function(e,t,n){if("string"!==typeof(0,n(62044).getConfig)("cheggCloudinaryCDN"))throw new Error("cheggCloudinaryCDN config not found");var o={"educatorFallbackPreviewImg.png":"wncc86jr2r8cbpnmqkm9nrb","img-chegg-web-ftu-my-courses-20220311.png":"3pgcgjsjcxrp67gscvhrrzxv","img-chegg-web-ftu-study-tools-20220328png.png":"bvvsvst5bk3mbgvwp7vp7j3x","AdobeStock_210161544_1.jpg":"q456r87rvnchr8w26mg7hjz","QnA_obfuscated_text_desktop_v2.svg":"8kn8cv8rt8vthkscr74gx","img-chegg-web-ftu-my-folder-20220330.png":"xkg5tfjsshsxf63s9x9jh8","Product_Tour_Recommendations_Image_2.png":"nvkj3s9jvp33zpmx8bknpmr","Obfuscation_text-v2.svg":"xkt96f6mqmgqjvhwvfbmn4c7","obfuscated-text-mobile-1.svg":"sq7wnfbcf4rhppkp7v9bfm5","search-error-fail-illust.svg":"3wqrwqtpsk7h3t7hsqkt259t","search-error-magnify-illust.svg":"mp8hcr78vtkwj3w3vx32g3w","cp-sohp-hero-600.jpg":"pp3vjbp9mqz6fb958vfpckg","illustration-practice-solution.svg":"9hwknphb4kscq2fp7wq8xn","icn-carousel-24.svg":"pprkmxvc8rfcbmng8r5ktj6t","Empty_Content_SVG.svg":"c7gqms3z4vqfm54jbps66qqn","Left_Lines_SVG.svg":"psjj6pfm4g5543gnv37v4s","Right_Lines_SVG.svg":"xq6njbjn5b85k635bx47ghm","illust-hw-rec-empty.svg":"xwq686vrbvhtmjx553qgxm9w","Logo_Chegg_Web__EB7100.png":"4b7ztqqmhpknsnnkpmswx8h","solution-illustration.svg":"mff58b6tvcwzhnngkm83bnr","Stars.svg":"hjwkb3h57ck8p9jp84szhqhk","Chegg-avatar.svg":"trkt79twx7wg95bxjt6vrj28","Topic_review_pill.svg":"bjq3h9g7p4jmvxwjmmv54j9","img-chegg-web-404-20211201.svg":"kthwqmngccb2snxnqswwcfb","img-chegg-web-nativeapp-cropped-20220112.png":"hw7bvhcsfc7c5qn39fswckq","Lighter_check.svg":"nngmb3g3t2g9pk28h8wn6x","lock.svg":"xbvbwc9sbpjgtfjf8vssm4bk","worldcat-logo.png":"4653293ssj49h54hkxz8px","Tips.svg":"678p6vkbpkm48pxzs5wrchnq","Desktop_CS_CSP_Devices_AppDownload_QRCode_0822_QR-code.jpg":"mbnqv55rgvbznbw5frs8vrs","H123_PAQ_Web_onboarding_to_app_QR-code.svg":"mcfcgqpbhgxzbr6tq49kgb","logo-bibme_2x.png":"xvx5bztb2g465pwnpktf6357","CheggAI_C_70x70.gif?auto=webp&format=gif":"kvxj65xpfhbw9bshnq2nbsxk","CheggAI_350x350.gif?auto=webp&format=gif":"rrxhmvmvth7f7wsqbgp9wnmh","Study_Tools_and_Pathways.svg":"5k9fwrsbpcmnxt8mpz39vv58","cheggmate-homepage-circle-bg.svg":"h4fh338zccv95p2kkwr368mc","Amex.svg":"kr83k3bsh8spvm4tkr9gnr6","Visa.svg":"swvg3wb9r9xm3jqv7nhxch","1200px-ObfuscationImage.png":"hmrmgvqnpmkxbqf4z2f49rk","img-chegg-web-pagegraduated-20230817.svg":"pmc84z8cjs8ffhbbx672sxq","9780073525501.jpg":"q83vhpqc7qj88vn3x8q7v","9781259188138.jpg":"pkp6hb6rsq7zvwj8bm4btjh","9780078024269.jpg":"9n344jfc5wc7hhqzmxhxbm47","obfuscated-text-1.svg":"np289ctqqshc2wqksf2nnv9m","obfuscated-text-2.svg":"njrxm4k7cwxv3p8ws5mj777w","obfuscated-text-3.svg":"799n2wjj7xgzfmc5n2qt7","obfuscated-text-4.svg":"s9phmw3b6z6sxs4rt8n7r","obfuscated-text-5.svg":"p9qfmfptkntfcwj2fwkx9vg","tag-example.docx":"t8hh8vvpfrjmxwb9gsjh43","0902-WTF-6390-WT-grammar-card-owl-illustration.png":"9j98btm4ff6zbfccjjmmnb","1025-WTF-6564-au-flag.svg":"x9v3kj967gnnqfvks6773g","1025-WTF-6564-ca-flag.svg":"8353b8cxsffgkw3m9nj534m7","1025-WTF-6564-uk-flag.svg":"qpkzg5s9wbbph3g5tbk2bq","1025-WTF-6564-us-flag.svg":"f7bvw3sprm597tr76xgb63c9","0803-WTF-6407-WT-plagiarism-modal-illustration.svg":"7b59bwpqbb7vwzwpfrrqv3j"},i="https://marketing-assets.chegg.com/ZYPTD8JS/at/",r=/[^/]+$/,a=/\.([^.]+)$/,c=["png","svg","jpg","jpeg","gif"];t.Z=function(e){var t,n=e.match(r),s=null!==(t=null===n||void 0===n?void 0:n[0])&&void 0!==t?t:"",u=s.match(a),l=u?u[1]:null,d="".concat(o[s],"/").concat(s);return l&&!c.includes(l)?"".concat(i).concat(d):"".concat(i).concat(d).concat("?auto=webp&format=png")}},21558:function(e,t,n){n.d(t,{Co:function(){return s},GV:function(){return a},HW:function(){return l},IR:function(){return o},JG:function(){return i},Jj:function(){return g},MA:function(){return v},RH:function(){return r},SH:function(){return w},TQ:function(){return c},VH:function(){return b},ZP:function(){return d},bp:function(){return m},g7:function(){return f},kO:function(){return p},mM:function(){return u}});var o,i="/study/tbs",r="solution";!function(e){e.RESUME="Resume",e.RESUBSCRIBE="Resubscribe",e.VIEW_THIS_SOLUTION="View this solution"}(o||(o={}));var a,c="REVOKE_PENDING_CANCEL",s="REVOKE_PENDING_PAUSE";!function(e){e.SOLUTION="solution",e.CHAPTER="chapter",e.EDITION="edition"}(a||(a={}));var u,l,d=75,v="chegg",g="cs",f="tbs",p="x-chegg-page-type",m="tbs-page",b="uk_legal_opt_in_tbs";!function(e){e.SHOW_ALL_TBS_STEPS="show-all-tbs-steps"}(u||(u={})),function(e){e.STANDARD_RATINGS="STANDARD_RATINGS",e.STICKY_RATINGS="STICKY_RATINGS",e.DYNAMIC_RATINGS="DYNAMIC_STICKY_RATINGS"}(l||(l={}));var w="solution_id"},95934:function(e,t,n){n.d(t,{CU:function(){return o.CU},E:function(){return o.E},Hl:function(){return o.Hl},QY:function(){return o.QY},en:function(){return o.en},fb:function(){return o.fb},fi:function(){return o.fi},mS:function(){return o.mS},vm:function(){return o.vm},wg:function(){return o.wg}});var o=n(32203)},32203:function(e,t,n){n.d(t,{CU:function(){return h},E:function(){return v},Hl:function(){return g},QY:function(){return l},Qs:function(){return b},av:function(){return m},en:function(){return R},fb:function(){return u},fi:function(){return d},mS:function(){return f},vm:function(){return w},wg:function(){return p}});var o=n(21558),i=n(49445),r=n(90530),a=n(98457),c=n(93649),s=n(54300),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!e.hasCheggStudySubscription&&e.extractedTbsUrlInfo.pageType===o.RH&&!t},l=function(e){switch(e){case r.Qe.CHEGG_STUDY_PACK:return{name:i.ProductName.CHEGG_STUDY_PACK,type:i.ProductType.CHEGG_STUDY_PACK};case r.Qe.CHEGG_STUDY:case r.Qe.CHEGG_STUDY_V2:return{name:i.ProductName.CHEGG_STUDY,type:i.ProductType.CHEGG_STUDY};default:return null}},d=function(e){switch(e){case a.w.paused:return o.IR.RESUME;case a.w.cancelled:return o.IR.RESUBSCRIBE;default:return o.IR.VIEW_THIS_SOLUTION}},v=function(e){switch(e){case o.GV.CHAPTER:return o.GV.CHAPTER;case o.GV.SOLUTION:return o.GV.SOLUTION;default:return o.GV.EDITION}},g={chapterId:"",problemId:"",isFirstProblem:!1,chapterName:"",problemName:""},f=function(e,t){var n,i,r=!1,a=t.pageType||"",c=t.chapterName,s=void 0===c?"":c,u=t.problemName,l=void 0===u?"":u;if(e&&e.tbsTableOfContents&&e.tbsTableOfContents.length>0){var d=e.tbsTableOfContents;switch(a){case o.GV.EDITION:var v,g,f,p,m,b;n=null===(v=d[0])||void 0===v?void 0:v.id,i=null===(g=d[0])||void 0===g||null===(f=g.problems[0])||void 0===f?void 0:f.id,r=!0,s=(null===(p=d[0])||void 0===p?void 0:p.name)||s,l=(null===(m=d[0])||void 0===m||null===(b=m.problems[0])||void 0===b?void 0:b.name)||l;break;case o.GV.CHAPTER:var w,h,R,T,E,I,C=null===d||void 0===d?void 0:d.findIndex((function(e){return e.name.toLowerCase()===s.toLowerCase()}));n=null===(w=d[C])||void 0===w?void 0:w.id,i=null===(h=d[C])||void 0===h||null===(R=h.problems[0])||void 0===R?void 0:R.id,r=!0,s=(null===(T=d[C])||void 0===T?void 0:T.name)||s,l=(null===(E=d[C])||void 0===E||null===(I=E.problems[0])||void 0===I?void 0:I.name)||l;break;case o.GV.SOLUTION:var x,y,O,S,Z,_,k,A,P,D,L,N,j=null===d||void 0===d?void 0:d.findIndex((function(e){return e.name.toLowerCase()===s.toLowerCase()})),q=null===(x=d[j])||void 0===x||null===(y=x.problems)||void 0===y?void 0:y.findIndex((function(e){var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===l.toLowerCase()}));n=null===(O=d[j])||void 0===O?void 0:O.id,i="undefined"!==typeof q&&null!==(S=d[j])&&void 0!==S&&null!==(Z=S.problems)&&void 0!==Z&&Z.length?null===(_=d[j])||void 0===_||null===(k=_.problems[q])||void 0===k?void 0:k.id:"",r="undefined"!==typeof q&&0===q,s=(null===(A=d[j])||void 0===A?void 0:A.name)||s,l="undefined"!==typeof q&&(null===(P=d[j])||void 0===P||null===(D=P.problems)||void 0===D?void 0:D.length)&&(null===(L=d[j])||void 0===L||null===(N=L.problems[q])||void 0===N?void 0:N.name)||l}}return{chapterId:n||"",problemId:i||"",isFirstProblem:r,chapterName:s,problemName:l}},p=function(e){switch(e){case"solution":return c.jp.SOLUTION;case"chapter":return c.jp.CHAPTER;case"edition":return c.jp.BOOK_EDITION;default:return""}},m=function(e){return null!==e&&""!==e&&(e=e.toString()).replace(/(<([^>]+)>)/gi,"")},b=function(e){if(!e)return e;for(var t=e.toLowerCase().split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);return t.join(" ")},w=function(e,t){for(var n=new URL(e),o=n.searchParams,i=Object.keys(t),r=0;r<i.length;r++)o.set(i[r],t[i[r]]);return n.search=o.toString(),n.toString()},h=function(e){return e.includes(s.gZ)||e.includes(s.tO)},R=function(e){return e.includes(s.PV)||e.includes(s.Ox)}},7792:function(e,t,n){n.d(t,{nc:function(){return o},GN:function(){return i},D3:function(){return l},cI:function(){return u},uP:function(){return a},x9:function(){return c},GO:function(){return It},ZP:function(){return Ct},Uv:function(){return ot}});var o,i,r,a,c,s,u,l,d,v,g=n(27791),f=n(8136),p=n(64649),m=n(50824),b=n.n(m),w=n(27378);!function(e){e.CANCEL="CANCEL",e.LIKE_DISLIKE="LIKE_DISLIKE",e.RELATED_NOT_RELATED_TOPIC="RELATED_NOT_RELATED_TOPIC"}(o||(o={})),function(e){e.DISLIKE="DISLIKE",e.LIKE="LIKE"}(i||(i={})),function(e){e.Android="Android",e.Web="Web",e.iOS="iOS"}(r||(r={})),function(e){e.ANSWER="ANSWER",e.BOCLIPS_VIDEO="BOCLIPS_VIDEO",e.CSP_SUBSCRIPTION="CSP_SUBSCRIPTION",e.MATH_SEO="MATH_SEO",e.MATH_SOLUTION="MATH_SOLUTION",e.MESSAGE="MESSAGE",e.PRACTICE_QUIZ_QUESTION="PRACTICE_QUIZ_QUESTION",e.PROBLEM="PROBLEM",e.QUESTION="QUESTION",e.SOLUTION="SOLUTION",e.SUBSCRIPTION="SUBSCRIPTION"}(a||(a={})),function(e){e.CS="CS",e.QNA_V3="QNA_V3"}(c||(c={})),function(e){e.up="up",e.down="down"}(s||(s={})),function(e){e.FETCHED_DATA="FETCHED_DATA",e.RATED_POSITIVE="RATED_POSITIVE",e.RATED_NEGAITIVE="RATED_NEGAITIVE"}(u||(u={})),function(e){e.TOP="top",e.BOTTOM="bottom"}(l||(l={})),function(e){e.Abusive="Abusive",e.Answered="Answered",e.IsBeingAnswered="IsBeingAnswered",e.NeedMoreInfo="NeedMoreInfo",e.NewlyPosted="NewlyPosted",e.TooManyQuestions="TooManyQuestions",e.UnansweredAndClosed="UnansweredAndClosed",e.Undefined="Undefined"}(d||(d={})),function(e){e.QNA3_STUDENT_QUESTION="QNA3_STUDENT_QUESTION",e.STUDENT_QUESTION="STUDENT_QUESTION"}(v||(v={}));var h,R=o.LIKE_DISLIKE,T=r.Web;!function(e){e.THUMBS_UP="thumbs-up",e.THUMBS_DOWN="thumbs-down",e.RATING_DIALOG="rating-dialog",e.RATINGS_LOADER="ratings-loader",e.TOTAL_POSITIVE_RATINGS_RATIO="total-positive-ratings-ratio-container",e.RATINGS_FEEDBACK_DIALOG="ratings_feedback_dialog",e.REVIEW_FEEDBACK_FORM="review-feedback-form",e.POSITIVE_RATING_TEXT="positive-rating-text",e.CLOSE_ICON="close-icon"}(h||(h={}));var E,I="thumbsUpMessage",C="thumbsDownMessage",x="thumbsUpTooltip",y="thumbsDownTooltip";!function(e){e.XSMALL="xsmall",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(E||(E={}));var O,S,Z,_="apollographql-client-name",k="@chegg/ratings",A="authToken";!function(e){e.CACHE_FIRST="cache-first",e.CACHE_ONLY="cache-only",e.CACHE_AND_NETWORK="cache-and-network",e.NETWORK_ONLY="network-only",e.NO_CACHE="no-cache",e.STANDBY="standby"}(O||(O={})),function(e){e.ALL="all",e.IGNORE="ignore",e.NONE="none"}(S||(S={})),function(e){e.EXODIA="EXODIA"}(Z||(Z={}));var P=n(83463),D=n(68860),L=n(84018),N=n(45980),j=n(95999),q=n(25104),U=n(93989),z=n(36648),M=n(75383),B=n(25773),G=w.forwardRef((function(e,t){var n=(0,B.Z)({},e);return w.createElement("button",(0,B.Z)({ref:t},n))})),H=G,V=n(77600),F=n(66748),K=n(49034),W={left:0,right:0,width:0,height:0},Q=function(e,t){var n,o=e.getBoundingClientRect(),i=o.height,r=o.width,a=o.left,c=o.right,s=e.offsetLeft,u=((null===t||void 0===t?void 0:t.getBoundingClientRect())||{}).width,l=void 0===u?320:u,d=l/2<a+s&&l/2<window.innerWidth-c,v=a+r+s>l,g=-(l/2-r/2-s+10),f=s,m=-(l-s-r+16);return n={},(0,p.Z)(n,"left",d?g:v?m:f),(0,p.Z)(n,"width",r),(0,p.Z)(n,"height",i),(0,p.Z)(n,"arrowLeft",d?"50%":v?void 0:"".concat(r/2-8,"px")),(0,p.Z)(n,"arrowRight",d?void 0:v?"".concat(16,"px"):void 0),(0,p.Z)(n,"actuatorWidth",l),n},Y=function(e){var t=e.positionerRef,n=e.actuatorRef,o=(0,w.useState)(W),i=(0,f.Z)(o,2),r=i[0],a=i[1];(0,F.Z)((function(){var e=(0,K.Z)((function(){t.current&&a(Q(t.current,n.current))}),200);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,F.Z)((function(){t.current&&a(Q(t.current,n.current))}),[t.current]),(0,F.Z)((function(){n.current&&t.current&&a(Q(t.current,n.current))}),[n.current]);return{position:r,resetDialogPosition:function(){t.current&&a(Q(t.current,n.current))}}},$=n(76863),X=n(98849),J=n(75719),ee=n(32336),te=P.ZP.div.withConfig({componentId:"sc-1bqbol3-0"})(["display:flex;justify-content:space-between;background-color:",";max-width:180px;align-items:center;align-self:center;position:relative;@media screen and (max-width:","){","}"],D.Z.transparent,L.Z.sm.max,(function(e){return e.isWithFeedbackDialog&&(0,P.iv)(["position:static};"])})),ne=P.ZP.div.withConfig({componentId:"sc-1bqbol3-1"})(["text-align:left;background:",";padding:"," ",";"],D.Z.white,N.Z.px8,N.Z.px16),oe=P.ZP.div.withConfig({componentId:"sc-1bqbol3-2"})(["padding:0 "," "," ",";"],N.Z.px16,N.Z.px16,N.Z.px16),ie=P.ZP.div.withConfig({componentId:"sc-1bqbol3-3"})(["font-weight:",";color:",";margin-bottom:",";"],j.Z.weight.bold,D.Z.dark,N.Z.px16),re=P.ZP.div.withConfig({componentId:"sc-1bqbol3-4"})(["display:flex;flex:1;justify-content:flex-end;color:",";svg:hover{cursor:pointer;}"],D.Z.grey),ae=(0,P.ZP)($.RadioGroup).withConfig({componentId:"sc-1bqbol3-5"})([""]),ce=(0,P.ZP)(X.Radio).withConfig({componentId:"sc-1bqbol3-6"})(["margin-bottom:",";"],N.Z.px16),se=((0,P.ZP)($.RadioGroup).withConfig({componentId:"sc-1bqbol3-7"})([""]),(0,P.ZP)(J.Checkbox).withConfig({componentId:"sc-1bqbol3-8"})(["margin-bottom:",";"],N.Z.px16),(0,P.ZP)(q.Z).withConfig({componentId:"sc-1bqbol3-9"})(["display:inline-block;margin-right:10px;margin-bottom:-6px;"]),P.ZP.div.withConfig({componentId:"sc-1bqbol3-10"})(["padding:1.2rem;",""],(function(e){var t=e.isError;return(0,P.iv)(["background:",";"],t?D.Z.coralXlight:D.Z.white)})),P.ZP.div.withConfig({componentId:"sc-1bqbol3-11"})(["margin-top:",";"],N.Z.px8)),ue=(0,P.ZP)(ee.Textarea).withConfig({componentId:"sc-1bqbol3-12"})(["",""],(function(e){return e.isHorizonTheme&&(0,P.iv)(["label{font-size:",";color:",";}textarea{border-radius:",";border:1px solid ",";&:hover{border-color:",";}&:active,&:focus{border-color:",";box-shadow:rgb(48,44,65) 0px 0px 0px 1px;}}"],j.Z.size.px14,D.Z.grey900,N.Z.px4,D.Z.grey700,D.Z.grey800,D.Z.grey900)})),le=(0,P.ZP)(M.Button).withConfig({componentId:"sc-1bqbol3-13"})(["@media screen and (max-width:","){width:100%;margin-top:250px;}"],L.Z.sm.max),de=P.ZP.div.withConfig({componentId:"sc-1bqbol3-14"})(["display:flex;justify-content:flex-end;@media screen and (max-width:","){justify-content:center;}"],L.Z.sm.max),ve=(P.ZP.div.withConfig({componentId:"sc-1bqbol3-15"})(["font-size:",";color:",";font-weight:",";margin-bottom:2px;"],j.Z.size.px12,D.Z.grey,j.Z.weight.bold),(0,P.ZP)(H).withConfig({componentId:"sc-1bqbol3-16"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;z-index:2;padding:"," ",";background-color:",";border-radius:",";min-width:",";border-color:transparent;border-width:0;",";"," ",""],N.Z.px8,N.Z.px16,D.Z.greyXlight,N.Z.px24,N.Z.px80,(function(e){var t=e.loading,n=e.isSelected;return!t&&(0,P.iv)(["&:hover,&:focus-visible{background-color:",";cursor:pointer;}"],n?D.Z.link:D.Z.tealXlight)}),(function(e){return e.addMarginRight&&(0,P.iv)(["margin-right:",";"],N.Z.px16)}),(function(e){return e.isSelected&&(0,P.iv)(["background-color:",";"],D.Z.link)}))),ge=P.ZP.div.withConfig({componentId:"sc-1bqbol3-17"})(["color:",";"," ",""],D.Z.dark,(function(e){return e.isHorizonTheme?(0,P.iv)(["min-width:18px;text-align:left;font-weight:",";"],j.Z.weight.normal):(0,P.iv)(["min-width:10px;margin-left:",";line-height:0;"],N.Z.px8)}),(function(e){return e.isSelected&&(0,P.iv)(["color:",";"],D.Z.white)})),fe=(0,P.ZP)(M.SecondaryButton).withConfig({componentId:"sc-1bqbol3-18"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;z-index:2;padding:"," ",";background-color:",";",";"," "," &:hover{text-decoration:none !important;}"],N.Z.px8,N.Z.px24,D.Z.white,(function(e){var t=e.loading,n=e.isSelected;return!t&&!n&&(0,P.iv)(["&:hover,&:focus-visible{background-color:",";cursor:pointer;}"],D.Z.white)}),(function(e){return e.addMarginRight&&(0,P.iv)(["margin-right:",";"],N.Z.px8)}),(function(e){return e.isSelected&&(0,P.iv)(["background-color:"," !important;"],D.Z.grey900)})),pe=((0,P.ZP)(z.Tooltip).withConfig({componentId:"sc-1bqbol3-19"})([""]),P.ZP.div.withConfig({componentId:"sc-1bqbol3-20"})([""]),(0,P.ZP)(V.Z).withConfig({componentId:"sc-1bqbol3-21"})([""]),P.ZP.div.withConfig({componentId:"sc-1bqbol3-22"})(["display:flex;flex-wrap:wrap;flex-direction:row;align-items:center;@media screen and (max-width:","){align-items:flex-start;}"],L.Z.sm.max)),me=P.ZP.div.withConfig({componentId:"sc-1bqbol3-23"})(["color:",";margin-left:",";padding-right:",";font-size:",";display:flex;line-height:",";flex:1;"],(function(e){return e.isHorizonTheme?D.Z.grey:D.Z.dark}),N.Z.px8,N.Z.px4,N.Z.px16,j.Z.lineHeight.md),be="2px",we="0.875rem",he=P.ZP.div.withConfig({componentId:"sc-1bqbol3-24"})(["z-index:1;margin:0 ","px 0 ","px;font-family:",";padding:1rem;background-color:",";border:"," solid ",";width:auto;box-sizing:border-box;position:absolute;max-width:","px;box-shadow:0px 0px 15px 5px ",";text-align:center;"," "," "," "," &::before{border:solid transparent;content:' ';height:0;width:0;position:absolute;border-color:transparent;border-width:",";margin-left:-",";max-width:320px;","}&::after{border:solid transparent;content:' ';height:0;width:0;position:absolute;bottom:100%;border-color:transparent;border-width:calc("," - ",");"," margin-left:calc(-"," + ",");","}@media screen and (max-width:","){","}"],8,8,j.Z.family.default,D.Z.white,be,D.Z.greyLight,320,D.Z.greyLight,(function(e){return e.isHorizonTheme&&(0,P.iv)(["background:",";border-radius:",";padding:0 ",";box-shadow:",";z-index:500;"],D.Z.grey900,N.Z.px8,N.Z.px8,U.Z.Default)}),(function(e){return e.isWithFeedbackDialog&&(0,P.iv)(["background:",";padding:0px;"],D.Z.white)}),(function(e){var t=e.isWithFeedbackDialog,n=e.isHorizonTheme;return!t&&n&&(0,P.iv)(["width:169px;border:none;"])}),(function(e){var t=e.position,n=e.dialogPosition,o=e.isHorizonTheme;return(0,P.iv)(["",":calc("," + ","px + "," + ",");left:",";right:",";"],n===l.BOTTOM?"top":"bottom",o?"13px":"0px",t.height,be,we,void 0!==t.left?"".concat(t.left,"px"):"auto",void 0!==t.right?"".concat(t.right,"px"):"auto")}),we,we,(function(e){var t=e.position,n=e.dialogPosition;return(0,P.iv)(["left:",";right:",";",":100%;",":",";"],void 0!==t.arrowLeft?t.arrowLeft:"auto",void 0!==t.arrowRight?t.arrowRight:"auto",n===l.BOTTOM?"bottom":"top",n===l.BOTTOM?"border-bottom-color":"border-top-color",D.Z.greyLight)}),we,be,(function(e){return e.dialogPosition===l.BOTTOM&&(0,P.iv)(["border-bottom-color:",";"],D.Z.white)}),we,be,(function(e){var t=e.position,n=e.dialogPosition,o=e.isHorizonTheme,i=e.isWithFeedbackDialog;return(0,P.iv)(["left:",";right:",";",":100%;",":",";"],void 0!==t.arrowLeft?t.arrowLeft:"auto",void 0!==t.arrowRight?"calc("+t.arrowRight+" + "+"2px)":"auto",n===l.BOTTOM?"bottom":"top",n===l.BOTTOM?"border-bottom-color":"border-top-color",o?i?D.Z.white:D.Z.grey900:D.Z.white)}),L.Z.sm.max,(function(e){return e.isWithFeedbackDialog&&(0,P.iv)(["top:0;left:0;height:100vh;width:100vw;margin:0;border:none;border-radius:0;max-width:initial;z-index:2;position:fixed;"])})),Re=P.ZP.div.withConfig({componentId:"sc-1bqbol3-25"})(["margin:0;padding:0.5rem 0;"]),Te=P.ZP.div.withConfig({componentId:"sc-1bqbol3-26"})(["white-space:nowrap;word-wrap:break-word;overflow-y:auto;overflow-x:hidden;font-size:",";"," ",""],j.Z.size.px16,(function(e){return e.isHorizonTheme&&(0,P.iv)(["color:",";"],D.Z.white)}),(function(e){var t=e.isWithFeedbackDialog,n=e.isHorizonTheme;return!t&&n&&(0,P.iv)(["font-size:",";white-space:normal;"],j.Z.size.px12)})),Ee=n(71142);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe,ye,Oe,Se,Ze,_e=function(e,t){var n=e.error;(function(e){return new Set(["Internal Server Error","user have access restrictions"]).has(e.trim())})("string"===typeof n?n:n.message)||(0,Ee.O7)(Ce(Ce({},e),{},{error:"@chegg/rating: ".concat(n)}),t)},ke=function(e){var t=e||"";return"undefined"!==typeof document&&(t=document.cookie),2===t.split("id_token=").length},Ae=n(96535),Pe=n(41514),De=["","k","M","B","T"],Le=function(e){if(e<1e3)return e.toString();var t=Math.floor(Math.log10(e)/3),n=e/Math.pow(10,3*t);return"".concat(n.toFixed(1)).concat(De[t])},Ne=n(75160),je=n(56083),qe=["data-test","ratingType","count","userRatingCallback","selected","loading","isHorizonTheme"],Ue=w.forwardRef((function(e,t){var n=e["data-test"],o=e.ratingType,i=e.count,r=e.userRatingCallback,a=e.selected,c=e.loading,u=e.isHorizonTheme,l=(0,Ae.Z)(e,qe),d=u?{variant:Boolean(a)?"default":"outlined",leadingIcon:o===s.up?w.createElement(Ne.Z,{size:"xsmall",svgColor:a?D.Z.white:D.Z.grey900,"data-test":"thumbs-up-icon"}):w.createElement(je.Z,{size:"xsmall",svgColor:a?D.Z.white:D.Z.grey900,"data-test":"thumbs-down-icon"}),disableHoverAnimation:c||a,isLoading:c}:{},v=u?fe:ve;return w.createElement(v,(0,B.Z)({"data-test":n,ref:t,loading:c,onClick:c||a?void 0:r,isSelected:Boolean(a),disabled:!u&&c,addMarginRight:o===s.up,isHorizonTheme:u},d,l),w.createElement(w.Fragment,null,!u&&c?w.createElement(V.Z,{svgColor:D.Z.link,"data-test":h.RATINGS_LOADER,size:E.SMALL}):w.createElement(w.Fragment,null,!u&&w.createElement(Pe.Z,{pointing:o,svgColor:a?D.Z.white:D.Z.dark}),w.createElement(ge,{isHorizonTheme:u,isSelected:Boolean(a)},Le(i)))))})),ze=n(74961),Me=n(50669),Be=n(59195),Ge=(0,Be.ZP)(xe||(xe=(0,Me.Z)(["\n  fragment ReviewFields on ContentReview {\n    contentId\n    contentReviewValue\n    count\n    contentReviewType\n  }\n"]))),He=(0,Be.ZP)(ye||(ye=(0,Me.Z)(["\n  query ReviewsV2($reviewForContentQueryArguments: ReviewForContent!) {\n    allReviews: reviewForContentV2(\n      queryArguments: {\n        contentReviewArguments: $reviewForContentQueryArguments\n        onlyUserRating: false\n      }\n    ) {\n      ...ReviewFields\n    }\n    userReview: reviewForContentV2(\n      queryArguments: {\n        contentReviewArguments: $reviewForContentQueryArguments\n        onlyUserRating: true\n      }\n    ) {\n      ...ReviewFields\n    }\n  }\n  ","\n"])),Ge),Ve=(0,Be.ZP)(Oe||(Oe=(0,Me.Z)(["\n  query AllReviewsV2($reviewForContentQueryArguments: ReviewForContent!) {\n    reviewForContentV2(\n      queryArguments: {\n        contentReviewArguments: $reviewForContentQueryArguments\n      }\n    ) {\n      ...ReviewFields\n    }\n  }\n  ","\n"])),Ge),Fe=(0,Be.ZP)(Se||(Se=(0,Me.Z)(["\n  query ReviewReasonsV2($contentType: ReviewContentType!) {\n    reviewReasonsV2(contentType: $contentType) {\n      legacyId\n      reason\n    }\n  }\n"]))),Ke=(0,Be.ZP)(Ze||(Ze=(0,Me.Z)(["\n  mutation StoreUserContentReviewV2(\n    $storeUserContentReviewInput: StoreUserContentReviewInput!\n  ) {\n    storeUserContentReviewV2(\n      storeUserContentReviewInput: $storeUserContentReviewInput\n    )\n  }\n"]))),We=n(62044),Qe=n(23892),Ye=n.n(Qe),$e=n(27061),Xe=(Ye()()||{}).publicRuntimeConfig,Je=void 0===Xe?{}:Xe,et=function(){return Je.authToken||(0,We.getConfig)(A)||$e.env.AUTH_TOKEN};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=function(e){var t,n=e.contentReviewArguments,o=e.skip,i=e.onCompleted,r=e.onError,a=e.getAllRatingsonly,c=void 0!==a&&a?Ve:He,s=ke(),u=(0,ze.useQuery)(c,{variables:{reviewForContentQueryArguments:nt({},n)},context:{headers:(t={},(0,p.Z)(t,_,k),(0,p.Z)(t,"Authorization","Basic ".concat(et())),t),ssr:!1,fetchPolicy:O.CACHE_AND_NETWORK,errorPolicy:S.ALL},skip:o||!s,onCompleted:i,onError:r}),l=u.data,d=u.loading,v=u.error;return(0,w.useEffect)((function(){v&&("string"===typeof v.message&&v.message.includes("403")?(0,Ee.ym)({action:"[Network error]: ServerError: Response not successful: Received status code 403",location:"@chegg/rating: useReviewForContent hook",severity:Ee.zb.WARNING}):(0,Ee.O7)({error:v,location:"@chegg/rating: useReviewForContent hook",severity:Ee.zb.ERROR}))}),[v]),{data:l,loading:d,error:v}},it=function(){var e,t=(0,ze.useMutation)(Ke,{context:{headers:(e={},(0,p.Z)(e,_,k),(0,p.Z)(e,"Authorization","Basic ".concat(et())),e),ssr:!1,fetchPolicy:O.NETWORK_ONLY,errorPolicy:S.ALL},refetchQueries:["ReviewsV2"],awaitRefetchQueries:!0}),n=(0,f.Z)(t,2);return{storeUserReview:n[0],storeUserReviewResults:n[1]}},rt=n(65386),at=n(1738),ct=n(63954);var st=function(e){var t=e.isOpen,n=e.onClose,o=(0,w.useRef)(null),i=(0,w.useRef)(!1),r=(0,w.useRef)(null);return(0,F.Z)((function(){if(t){var e=o.current;if(r.current=document.activeElement,e){var n=(0,rt.Z)(e);n&&n.focus()}}else i.current&&r.current&&!document.querySelector('[role="dialog"]')&&r.current.focus();i.current=!0}),[t]),{dialogRef:o,onDialogKeyDown:function(e){var t=o.current;if(t&&(0,at.Z)(e,t))if(e.preventDefault(),e.shiftKey){var i=(0,ct.Z)(t);i.length&&i[i.length-1].focus()}else{var r=(0,rt.Z)(t);r&&r.focus()}else"Escape"!==e.key&&"Esc"!==e.key||!n||(e.preventDefault(),n(e))}}},ut=n(24662),lt=function(e){var t,n,o=e.children,i=e.className,r=e["data-test"],a=e.positionerRef,c=e.isOpen,s=e.onClose,u=e.ariaLabel,l=e.id,d=e.onRender,v=e.dialogPosition,g=e.isWithFeedbackDialog,f=e.trigger,p=st({isOpen:c,onClose:s}),m=p.dialogRef,b=p.onDialogKeyDown,h=Y({positionerRef:a,actuatorRef:m}),R=h.position,T=h.resetDialogPosition;(0,w.useEffect)((function(){if(c){var e;d&&d(),(null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect().width)!=R.actuatorWidth&&T();var t=function(e){!e.target||!m.current||e.target===m.current||m.current.contains(e.target)||null!==f&&void 0!==f&&f.contains(e.target)||s(e)};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}}}),[c]);var E=(0,w.useContext)(P.Ni),I=(null===E||void 0===E||null===(t=E.cuiTheme)||void 0===t?void 0:t.name)===(null===ut.themes||void 0===ut.themes||null===(n=ut.themes.horizon)||void 0===n?void 0:n.name);return c?w.createElement(he,{id:l,className:i,"data-test":r,ref:m,tabIndex:-1,role:"dialog","aria-modal":"true",onKeyDown:b,position:R,"aria-label":u||"dialog box",isHorizonTheme:I,dialogPosition:v,isWithFeedbackDialog:Boolean(g)},w.createElement(Re,null,w.createElement(Te,{isHorizonTheme:I,isWithFeedbackDialog:Boolean(g)},o))):null},dt=function(e,t){return e.find((function(e){return(null===e||void 0===e?void 0:e.contentReviewType)===o.LIKE_DISLIKE&&(null===e||void 0===e?void 0:e.contentReviewValue)===t}))},vt=function(e){var t;return e.forEach((function(e){e&&e.contentReviewType===o.LIKE_DISLIKE&&(t=e.contentReviewValue)})),t},gt={positiveReviewCount:0,negativeReviewCount:0,totalReviewCount:0,contentId:null,userReview:void 0,positiveReviewPercentage:0},ft=function(e){var t,n,o,r;if(function(e){return e&&Array.isArray(e.reviewForContentV2)}(e))o=e.reviewForContentV2;else{if(!function(e){return e&&Array.isArray(e.allReviews)}(e))return gt;r=vt(e.userReview),o=e.allReviews}var a=dt(o,i.LIKE),c=dt(o,i.DISLIKE),s=null!==(t=null===a||void 0===a?void 0:a.count)&&void 0!==t?t:0,u=null!==(n=null===c||void 0===c?void 0:c.count)&&void 0!==n?n:0,l=+s+ +u;return{positiveReviewCount:s,negativeReviewCount:u,totalReviewCount:s+u,contentId:(null===a||void 0===a?void 0:a.contentId)||(null===c||void 0===c?void 0:c.contentId)||null,userReview:r,positiveReviewPercentage:Math.ceil(s/l*100)||0}},pt=n(82816),mt=function(e){var t,n,o=e.onSubmit,i=e.onClose,r=e["data-test"],a=e.data,c=e.onNegativeReviewReasonClickAnalytics,s=e.isAlreadyRatedByUser,u=w.useState(-1),l=(0,f.Z)(u,2),d=l[0],v=l[1],g=(0,w.useState)(""),p=(0,f.Z)(g,2),m=p[0],b=p[1],R=(0,w.useContext)(P.Ni),T=(null===R||void 0===R||null===(t=R.cuiTheme)||void 0===t?void 0:t.name)===(null===ut.themes||void 0===ut.themes||null===(n=ut.themes.horizon)||void 0===n?void 0:n.name);return w.createElement(ne,{"data-test":r},w.createElement(re,null,w.createElement(pt.Z,{"data-test":h.CLOSE_ICON,onClick:i})),w.createElement(oe,null,w.createElement(ie,null,"What went wrong?"),a&&w.createElement(ae,{"data-test":"flagging_radio_group",legend:"",hideLegend:!0,name:"Group name",selectedIndex:d,onChange:function(e){return function(e){if(v(e),a&&a.reviewReasonsV2[e]&&c){var t,n,o=null===(t=a.reviewReasonsV2[e])||void 0===t||null===(n=t.reason)||void 0===n?void 0:n.trim();o&&c(o,s)}}(e)}},a.reviewReasonsV2.map((function(e,t){return w.createElement(ce,{"data-test":"radio_".concat(t),key:null===e||void 0===e?void 0:e.legacyId,inputId:"radio_".concat(t),checked:d===t},null===e||void 0===e?void 0:e.reason)}))),w.createElement(se,null,w.createElement(ue,{onChange:function(e){b(e)},inputId:"flagging_textarea","data-test":"flagging_text_area",labelText:"Add a comment (optional)",height:"80px",value:m,maxLength:300,isHorizonTheme:T})),w.createElement(de,null,w.createElement(le,{disabled:d<0,"data-test":"submit_button",onClick:function(){var e;return o({abuseType:null===a||void 0===a||null===(e=a.reviewReasonsV2[d])||void 0===e?void 0:e.legacyId,reporterComment:m})}},"Submit"))))},bt=function(e){var t=e.contentType,n=e.skip,o=Fe,i=(0,ze.useQuery)(o,{variables:{contentType:t},context:{ssr:!1,fetchPolicy:O.CACHE_AND_NETWORK,errorPolicy:S.ALL},skip:n});return{data:i.data,loading:i.loading,error:i.error}},wt=function(e){var t=e.ratingsDialogBoxRef,n=e.topOffset,o=e.bottomOffset,i=(0,w.useState)(l.BOTTOM),r=(0,f.Z)(i,2),a=r[0],c=r[1],s=function(){var e=t.current?window.innerHeight-t.current.getBoundingClientRect().bottom:0,i=t.current?t.current.getBoundingClientRect().top:0;c(e>=o?l.BOTTOM:i>n?l.TOP:l.BOTTOM)};return(0,w.useEffect)((function(){s()}),[]),(0,w.useEffect)((function(){return window.addEventListener("scroll",s),function(){return window.removeEventListener("scroll",s)}}),[]),a};function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=function(e){var t,n;switch(e){case s.up:n=I,t=i.LIKE;break;case s.down:n=C,t=i.DISLIKE}return{dialogKey:n,contentReviewValue:t}},Et=function(e){var t,n,o,r,c,d,v,m,E,O,S=e.ratingsClickCallback,_=e.question,k=e.questionLegacyId,A=e.contentId,D=e.contentType,L=e.likeRatingMessage,N=void 0===L?"Thanks for letting us know!":L,j=e.disLikeRatingMessage,q=void 0===j?"Thanks for letting us know!":j,U=e.dislikeTooltip,z=void 0===U?"Sorry! Let us know so we can fix it":U,M=e.likeTooltip,B=void 0===M?"Glad to be of help!":M,G=e.className,H=e["data-test"],V=e.analytics,F=V.onLoad,K=V.onClickAnalytics,W=V.onNegativeReviewReasonClickAnalytics,Q=V.onNegativeReviewSubmitClickAnalytics,Y=V.onTooltipDisplayAnalytics,$=e.disableMessages,X=void 0!==$&&$,J=e.dialogPosition,ee=void 0===J?l.BOTTOM:J,ne=e.disableFeedback,oe=void 0===ne||ne,ie=e.directionAwareness,re=e.tbsSolutionReviewMetadata,ae=ke(),ce=(0,w.useRef)(!1),se=(0,w.useRef)(null),ue=(0,w.useContext)(P.Ni),le=null,de=null,ve=(0,w.useState)(!1),ge=(0,f.Z)(ve,2),fe=ge[0],pe=ge[1],me=(0,w.useState)(null),be=(0,f.Z)(me,2),we=be[0],he=be[1],Re=(0,w.useState)(""),Te=(0,f.Z)(Re,2),Ie=Te[0],Ce=Te[1],xe=(0,w.useState)(gt),ye=(0,f.Z)(xe,2),Oe=ye[0],Se=ye[1],Ze=(0,w.useState)(!1),Ae=(0,f.Z)(Ze,2),Pe=Ae[0],De=Ae[1],Le={contentId:A,contentReviewType:R,contentType:D},Ne=function(e){var t,n=e.likeRatingMessage,o=e.disLikeRatingMessage,i=e.likeTooltip,r=e.dislikeTooltip;return t={},(0,p.Z)(t,I,w.createElement("div",{id:"dialogLabel"},n)),(0,p.Z)(t,C,w.createElement("div",{id:"dialogLabel"},o)),(0,p.Z)(t,x,w.createElement("div",{id:"dialogDescription"},i)),(0,p.Z)(t,y,w.createElement("div",{id:"dialogDescription"},r)),t}({likeRatingMessage:N,disLikeRatingMessage:q,dislikeTooltip:z,likeTooltip:B}),je=function(e){_e({error:e,location:"Ratings",severity:Ee.zb.ERROR},{teamName:Z.EXODIA})},qe=(0,w.useCallback)((function(e,t){t&&Ce(t),pe(e)}),[]),ze=bt({contentType:D,skip:!ae}).data,Me=ot({contentReviewArguments:Le,skip:!ae}),Be=Me.data,Ge=Me.loading,He=it(),Ve=He.storeUserReview,Fe=He.storeUserReviewResults,Ke=(Fe=void 0===Fe?{}:Fe).loading,We=void 0!==Ke&&Ke,Qe=Fe.error,Ye=Fe.data,$e=(0,w.useState)(!1),Xe=(0,f.Z)($e,2),Je=Xe[0],et=Xe[1];(0,w.useEffect)((function(){ce.current=!0}),[]),(0,w.useEffect)((function(){if(null!==Ye&&void 0!==Ye&&Ye.storeUserContentReviewV2&&we){var e=Tt(we).dialogKey;qe(!0,e)}}),[Ye,we,qe]),(0,w.useEffect)((function(){if(Be)if("allReviews"in Be){var e=ft(Be);Se((function(t){var n,o,i=we?we===s.down?u.RATED_NEGAITIVE:u.RATED_POSITIVE:u.FETCHED_DATA;(et(Boolean(null===(n=t.userReview)||void 0===n?void 0:n.length)),null===S||void 0===S||S({reviews:e,action:i}),ce.current&&(F(e),ce.current=!1),null!==we)&&K(Rt(Rt({},e),{},{isAlreadyRatedByUser:Boolean(null===(o=t.userReview)||void 0===o?void 0:o.length),positiveRatingMessage:i===u.RATED_POSITIVE?N.toLowerCase():void 0,negativeRatingMessage:i===u.RATED_NEGAITIVE?q.toLowerCase():void 0}));return e}));var t=e.userReview===i.LIKE?s.up:e.userReview===i.DISLIKE?s.down:null;he(t)}else je("Getting Wrong type of data from useReviewForContent hook")}),[Be]),(0,w.useEffect)((function(){Qe&&je(Qe)}),[Qe]);var tt=(0,w.useCallback)(function(){var e=(0,g.Z)(b().mark((function e(t,n){var o,i,r,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Tt(t),i=o.contentReviewValue,r=null!==n&&void 0!==n&&n.reporterComment&&n.reporterComment.length>0?n.reporterComment.trim():void 0,c=Rt(Rt({contentId:A,contentReviewType:R,contentType:D,contentReviewValue:i,contentReviewerDeviceType:T,contentReviewComment:r},"DISLIKE"===i&&"ANSWER"===D&&{questionReroutingMetadata:{createdAt:null===_||void 0===_?void 0:_.publishedDate,questionLegacyId:null!==k&&void 0!==k?k:0,questionUuid:null===_||void 0===_?void 0:_.uuid}}),{},{contentReviewReasonLegacyId:null===n||void 0===n?void 0:n.abuseType},D===a.SOLUTION&&{tbsSolutionReviewMetadata:re}),e.next=5,Ve({variables:{storeUserContentReviewInput:c}});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[A,D,Ve]),nt=(0,w.useCallback)((function(e,t){if(se.current=t,he(e),ae)tt(e);else{var n=new Error("Unauthenticated user is trying to provide rating for content type ".concat(D));je(n)}oe||e!==s.down||(pe(!1),De(!0))}),[D,oe,ae,tt]),rt=function(e,t){se.current=e,qe(!0,t)},at=(0,w.useCallback)((function(){return pe(!1)}),[]),ct=(0,w.useCallback)((function(){De(!1)}),[]),st="ratings_dialog"+Math.random().toString(36).slice(2),dt=Oe.userReview===i.DISLIKE,vt=Oe.userReview===i.LIKE,pt=(0,w.useCallback)(function(){var e=(0,g.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe(!1),De(!1),!ae){e.next=8;break}return Q&&Q(Je),e.next=6,tt(s.down,t);case 6:e.next=10;break;case 8:n=new Error("Unauthenticated user is trying to provide enhanced negative rating for content type ".concat(D)),je(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Je]),ht=(null===ue||void 0===ue||null===(t=ue.cuiTheme)||void 0===t?void 0:t.name)===(null===ut.themes||void 0===ut.themes||null===(n=ut.themes.horizon)||void 0===n?void 0:n.name),Et=null===ie||void 0===ie?void 0:ie.tooltip,It=null===ie||void 0===ie?void 0:ie.ratingsFeedbackForm,Ct=(0,w.useRef)(null),xt=wt({ratingsDialogBoxRef:Ct,topOffset:null!==(o=null===Et||void 0===Et||null===(r=Et.offset)||void 0===r?void 0:r.top)&&void 0!==o?o:0,bottomOffset:null!==(c=null===Et||void 0===Et||null===(d=Et.offset)||void 0===d?void 0:d.bottom)&&void 0!==c?c:0}),yt=wt({ratingsDialogBoxRef:Ct,topOffset:null!==(v=null===It||void 0===It||null===(m=It.offset)||void 0===m?void 0:m.top)&&void 0!==v?v:0,bottomOffset:null!==(E=null===It||void 0===It||null===(O=It.offset)||void 0===O?void 0:O.bottom)&&void 0!==E?E:0});(0,w.useEffect)((function(){!X&&fe&&!Pe&&Ie===C&&Y&&Y()}),[Y,X,fe,Pe,Ie]);return w.createElement(te,{"data-test":H,className:G,isWithFeedbackDialog:Pe},w.createElement(Ue,{"aria-label":"Thumbs up"+" ".concat(Oe.positiveReviewCount," ").concat(vt?"selected":""),"aria-describedby":"dialogDescription","aria-labelledby":"dialogLabel","aria-disabled":vt,role:"button","data-test":h.THUMBS_UP,ref:function(e){return le=e},loading:Ge||we===s.up&&We,ratingType:s.up,count:Oe.positiveReviewCount,selected:vt,userRatingCallback:function(){return nt(s.up,le)},onMouseEnter:function(){return!vt&&!Pe&&rt(le,x)},onMouseLeave:at,isHorizonTheme:ht,onFocus:function(){return!vt&&!Pe&&rt(le,x)},onBlur:at}),w.createElement(Ue,{"aria-label":"Thumbs down"+" ".concat(Oe.negativeReviewCount," ").concat(dt?"selected":""),"aria-describedby":"dialogDescription","aria-labelledby":"dialogLabel","aria-disabled":dt,role:"button","data-test":h.THUMBS_DOWN,ref:function(e){return de=e},loading:Ge||we===s.down&&We,ratingType:s.down,count:Oe.negativeReviewCount,selected:dt,userRatingCallback:function(){if(nt(s.down,de),!oe){var e,t,n,o,i=Ct.current?window.innerHeight-Ct.current.getBoundingClientRect().bottom:0,r=Ct.current?Ct.current.getBoundingClientRect().top:0;i<(null!==(e=null===It||void 0===It||null===(t=It.offset)||void 0===t?void 0:t.bottom)&&void 0!==e?e:0)&&r<(null!==(n=null===It||void 0===It||null===(o=It.offset)||void 0===o?void 0:o.top)&&void 0!==n?n:0)&&window.scrollBy({top:490-i,behavior:"smooth"})}},onMouseEnter:function(){return!dt&&rt(de,y)},onMouseLeave:at,isHorizonTheme:ht,onFocus:function(){return!dt&&rt(de,y)},onBlur:at}),X||!fe||Pe?null:w.createElement(w.Fragment,null,w.createElement(lt,{id:st,isOpen:fe,onClose:at,positionerRef:se,"data-test":h.RATING_DIALOG,dialogPosition:oe?ee:xt},Ne[Ie])),oe&&!Pe?null:w.createElement(lt,{id:"ratings_feedback_dialog"+Math.random().toString(36).slice(2),isOpen:Pe,onClose:ct,positionerRef:se,dialogPosition:oe?ee:yt,"data-test":h.RATINGS_FEEDBACK_DIALOG,isWithFeedbackDialog:Pe,trigger:se.current},Pe?w.createElement(mt,{"data-test":h.REVIEW_FEEDBACK_FORM,onClose:ct,onSubmit:pt,data:ze,onNegativeReviewReasonClickAnalytics:W,isAlreadyRatedByUser:Je}):w.createElement(w.Fragment,null)),w.createElement("div",{ref:Ct}))},It=function(e){var t,n,o=e.contentId,i=e.contentType,r=e.compactVersionOnSmallScreen,a=void 0!==r&&r,c=e.ratingLabel,s=void 0===c?"":c,u=e.minimumPositivePercentileRequired,l=void 0===u?80:u,d=e.tbsReviewMetaData,v=e.analytics.onLoad,g=e.iconColor,p=void 0===g?D.Z.grey:g,m=e.iconSize,b=void 0===m?"small":m,T=(0,w.useState)(),E=(0,f.Z)(T,2),I=E[0],C=E[1],x=(0,w.useState)(),y=(0,f.Z)(x,2),O=y[0],S=y[1],Z=ot({contentReviewArguments:{contentId:o,contentReviewType:R,contentType:i,tbsSolutionReviewMetadata:d},getAllRatingsonly:!0}),_=Z.data,k=Z.error,A=Z.loading,N=function(){window.innerWidth<=parseInt(L.Z.sm.max,10)?S(!0):S(!1)};(0,w.useEffect)((function(){if(a)return N(),window.addEventListener("resize",N),function(){return window.removeEventListener("resize",N)}}),[]);var j=(0,w.useContext)(P.Ni);if((0,w.useEffect)((function(){_&&C((function(){var e=ft(_);return v(e),e}))}),[_]),k)return null;if(A||!I)return null;if(I.positiveReviewPercentage<l)return null;var q,U=(null===j||void 0===j||null===(t=j.cuiTheme)||void 0===t?void 0:t.name)===(null===ut.themes||void 0===ut.themes||null===(n=ut.themes.horizon)||void 0===n?void 0:n.name);return w.createElement(pe,{"data-test":h.TOTAL_POSITIVE_RATINGS_RATIO,isSmallScreen:O},U?w.createElement(Ne.Z,{size:"small",svgColor:D.Z.grey900}):w.createElement(Pe.Z,{size:b,pointing:"up",svgColor:p}),w.createElement(me,{isHorizonTheme:U,id:"postivePercentileText","data-test":h.POSITIVE_RATING_TEXT},I.positiveReviewPercentage,"%",O?null:" (".concat(Le(I.totalReviewCount)," ").concat((q=I.totalReviewCount,q>1?"ratings":"rating"),") ").concat(s)))},Ct=Et}}]);
//# sourceMappingURL=56048-0c52b860fae299c5.js.map